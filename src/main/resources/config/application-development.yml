# Development environment configuration
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/onebusaway_dev?useSSL=false&serverTimezone=UTC
    username: oba_dev
    password: oba_dev
    
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true
        generate_statistics: true
        cache:
          use_second_level_cache: false  # Disable caching in development for easier debugging
        
  # Development logging
  logging:
    level:
      org.onebusaway: DEBUG
      org.springframework: INFO
      org.hibernate.SQL: DEBUG
      org.hibernate.type.descriptor.sql.BasicBinder: TRACE
      
  # Actuator for development
  management:
    endpoints:
      web:
        exposure:
          include: "*"
    endpoint:
      health:
        show-details: always

# Development specific OneBusAway configuration
onebusaway:
  gtfs:
    url: ${GTFS_URL:https://github.com/OneBusAway/onebusaway-gtfs-modules/raw/master/onebusaway-gtfs-modules-testdata/src/main/resources/testagency_gtfs.zip}
    realtime:
      refresh-interval: 30s
  api:
    key:
      required: false
    security:
      hsts:
        enabled: false  # Disable HSTS in development (no HTTPS typically)
      xss-protection:
        enabled: true
      content-type-options:
        enabled: true
  bundle:
    path: ${OBA_BUNDLE_PATH:./target/bundle}
  datasource:
    archive:
      url: jdbc:mysql://localhost:3306/onebusaway_dev?useSSL=false&serverTimezone=UTC
      username: ${DATABASE_USER:oba_dev}
      password: ${DATABASE_PASSWORD:oba_dev}
    agency:
      url: jdbc:mysql://localhost:3306/onebusaway_dev?useSSL=false&serverTimezone=UTC
      username: ${DATABASE_USER:oba_dev}
      password: ${DATABASE_PASSWORD:oba_dev}